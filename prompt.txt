here is my app code.
//index.ts
import dotenv from 'dotenv';
dotenv.config();

import TelegramBot from 'node-telegram-bot-api';
import { createVpnKey, getTrafficUsageForKey, listVpnKeys, removeVpnKey } from './vpnManager';

const token = process.env.TELEGRAM_BOT_TOKEN || '';
const bot = new TelegramBot(token, { polling: true });

const ALLOWED_CHAT_ID = process.env.ALLOWED_CHAT_ID;
const MAX_TRAFFIC_LIMIT = 200;  // Total traffic limit (in GB)
const ADMIN_USER_ID = Number(process.env.ADMIN_USER_ID) || 123456789;  // Replace with the actual admin ID
let totalTrafficUsed = 0;  // Track traffic used by all users

console.log('Telegram bot started');

// Check if the user is in the allowed group
async function isUserInGroup(chatId: number, userId: number): Promise<boolean> {
  try {
    const chatMember = await bot.getChatMember(chatId, userId);
    return chatMember.status !== 'left' && chatMember.status !== 'kicked';
  } catch (error) {
    console.error('Error checking chat membership:', error);
    return false;
  }
}

bot.onText(/\/start/, (msg) => {
  const chatId = msg.chat.id;
  const userId = msg.from?.id || 0;
  const username = msg.from?.username || 'User';

  let buttons = [
    [{ text: 'üîë Get VPN Key', callback_data: 'get_key' }],
    [{ text: 'üìä Check Traffic', callback_data: 'check_traffic' }],
  ];

  // If the user is the admin, show additional admin buttons
  console.log(userId)
  if (userId === ADMIN_USER_ID) {
    buttons.push([{ text: 'üîë List All VPN Keys (Admin)', callback_data: 'list_all_keys' }]);
  }

  bot.sendMessage(chatId, üëã Welcome, ${username}!\nI‚Äôm here to help you manage your VPN keys., {
    reply_markup: {
      inline_keyboard: buttons,
    },
  });
});


// Main menu
bot.onText(/\/menu/, (msg) => {
  const chatId = msg.chat.id;
  bot.sendMessage(chatId, 'üìã Main Menu:', {
    reply_markup: {
      inline_keyboard: [
        [{ text: 'üîë Get VPN Key', callback_data: 'get_key' }],
        [{ text: 'üìä Check Traffic', callback_data: 'check_traffic' }],
        [{ text: 'üõë Remove Key', callback_data: 'remove_key' }]
      ],
    },
  });
});

// Handle button clicks (callback queries)
bot.on('callback_query', async (callbackQuery) => {
  const chatId = callbackQuery.message?.chat.id || 0;
  const userId = callbackQuery.from.id;
  const username = callbackQuery.from.username || 'User';
  const action = callbackQuery.data;  // Button's callback data

  if (action === 'get_key') {
    await assignVpnKey(userId, username, chatId);
  } else if (action === 'check_traffic') {
    const existingKeys = await listVpnKeys();
    const userKey = existingKeys.find(key => key.name === ${username}_${userId});

    if (userKey) {
      const trafficUsage = await getTrafficUsageForKey(userKey.id);
      bot.sendMessage(chatId, üìä Your traffic usage: ${trafficUsage} GB);
    } else {
      bot.sendMessage(chatId, 'You don‚Äôt have a VPN key yet.');
    }
  } else if (action === 'list_all_keys' && userId === ADMIN_USER_ID) {
    // Only the admin can trigger this action
    const allKeys = await listVpnKeys();
    const keyButtons = allKeys.map(key => {
      return [{ text: ‚ùå Remove Key: ${key.name}, callback_data: remove_key_${key.id} }];
    });

    bot.sendMessage(chatId, 'üîë List of all VPN keys:', {
      reply_markup: {
        inline_keyboard: keyButtons,
      },
    });
  } else if (action !== undefined && action.startsWith('remove_key_') && userId === ADMIN_USER_ID) {
    const keyId = action.replace('remove_key_', '');
    await removeVpnKey(keyId);
    bot.sendMessage(chatId, ‚úÖ VPN key ${keyId} has been removed.);
  }
});

// Assign VPN key to a user and store their Telegram user ID in the key's name
async function assignVpnKey(userId: number, username: string, chatId: number) {
  const vpnKeyId = ${username}_${userId};
  if (!await isUserInGroup(Number(ALLOWED_CHAT_ID), userId)) {
    bot.sendMessage(chatId, 'üö´ You are not part of the allowed group.');
    return;
  }

  const existingKeys = await listVpnKeys();
  const existingKey = existingKeys.find(key => key.name === vpnKeyId);

  if (existingKey) {
    bot.sendMessage(chatId, üîë You already have a key:);
    bot.sendMessage(chatId, \\\\n${existingKey.accessUrl}\n\\\`, { parse_mode: 'Markdown' });
    return;
  }

  if (totalTrafficUsed >= MAX_TRAFFIC_LIMIT) {
    bot.sendMessage(chatId, 'üö´ The total traffic limit for this month has been reached.');
    return;
  }

  try {
    const vpnKey = await createVpnKey(vpnKeyId);
    bot.sendMessage(chatId, ‚úÖ Your VPN key has been created:);
    bot.sendMessage(chatId, \\\\n${vpnKey}\n\\\`, { parse_mode: 'Markdown' });
  } catch (error) {
    bot.sendMessage(chatId, '‚ö†Ô∏è Error creating VPN key.');
    console.error(error);
  }
}
//vpnManager.ts
import { OutlineVPN } from 'outlinevpn-api';
import dotenv from 'dotenv';
import { User } from 'outlinevpn-api/dist/types';

dotenv.config();

const apiUrl = process.env.OUTLINE_API_URL || 'https://your-default-api-url.com';
const fingerprint = process.env.OUTLINE_API_FINGERPRINT || 'your-fingerprint';

const outlineVpn = new OutlineVPN({
  apiUrl: apiUrl,
  fingerprint: fingerprint,
});

// Create a new VPN key and store the Telegram user ID in the 'name' property
export async function createVpnKey(userId: string): Promise<string> {
  try {
    const key = await outlineVpn.createUser();
    await outlineVpn.renameUser(key.id, userId);
    return key.accessUrl;
  } catch (error) {
    console.error('Error creating VPN key:', error);
    throw new Error('Could not create VPN key.');
  }
}

// List all VPN keys and retrieve their 'name' properties
export async function listVpnKeys(): Promise<User[]> {
  try {
    return await outlineVpn.getUsers();
  } catch (error) {
    console.error('Error listing VPN keys:', error);
    throw new Error('Could not list VPN keys.');
  }
}

// Get traffic usage for a specific key
export async function getTrafficUsageForKey(keyId: string): Promise<number> {
  try {
    const key = await outlineVpn.getUser(keyId);
    return 123//key.usage.transferred / (1024 * 1024 * 1024);  // Convert from bytes to GB
  } catch (error) {
    console.error('Error fetching traffic usage:', error);
    throw new Error('Could not fetch traffic usage.');
  }
}

export async function removeVpnKey(keyId: string): Promise<void> {
  try {
    await outlineVpn.deleteUser(keyId);  // Use the Outline API to delete the key
    console.log(Key with ID ${keyId} has been removed.);
  } catch (error) {
    console.error(Error removing key ${keyId}:, error);
    throw new Error(Could not remove VPN key ${keyId}.);
  }
}
So let's modify it a bit. I want to change the message when somebody got key. Also want to add a info button and such button should be available only for user who already has vpn key.
That's how help message should looks like
Use this server to safely access the open internet:

1) Download and install the Outline app for your device:

- iOS: https://itunes.apple.com/app/outline-app/id1356177741
- MacOS: https://itunes.apple.com/app/outline-app/id1356178125
- Windows: https://s3.amazonaws.com/outline-releases/client/windows/stable/Outline-Client.exe
- Linux: https://s3.amazonaws.com/outline-releases/client/linux/stable/Outline-Client.AppImage
- Android: https://play.google.com/store/apps/details?id=org.outline.android.client
- Android alternative link: https://s3.amazonaws.com/outline-releases/client/android/stable/Outline-Client.apk

2) Here is your access key {snippet_with_access_key } Please, copy this access key.

3) Open the Outline client app. If your access key is auto-detected, tap "Connect" and proceed. If your access key is not auto-detected, then paste it in the field, then tap "Connect" and proceed.

You're ready to use the open internet! To make sure you successfully connected to the server, try searching for "what is my ip" on Google Search. The IP address shown in Google should match the IP address in the Outline client.